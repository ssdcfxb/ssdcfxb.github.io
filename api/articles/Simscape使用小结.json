{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"Simscape使用小结","date":"2022-11-05T03:06:25.060Z","updated":"2022-11-05T09:48:24.196Z","comments":true,"path":"api/articles/Simscape使用小结.json","keywords":null,"cover":[],"content":"<h1 id=\"Simscape使用小结\"><a href=\"#Simscape使用小结\" class=\"headerlink\" title=\"Simscape使用小结\"></a>Simscape使用小结</h1><ol>\n<li><h2 id=\"什么是Simscape\"><a href=\"#什么是Simscape\" class=\"headerlink\" title=\"什么是Simscape\"></a>什么是Simscape</h2><p> ​\t\tSimscape是Matlab中强大的仿真平台Simulink的一个模块，Simscape主要的仿真对象是现实世界中的各种物体进行物理建模，包括但不限于气体、流体、磁场等等，而对于制作机器人时所需要的物理建模，Simscape中的Multibody（多体系统）模块可以很好地达成这一目的。Simscape Multibody提供了适用于3D机械结构的多体仿真环境，我们可以使用表示刚体、关节、约束、力元件和传感器的模块对多体系统进行建模，帮助我们开发控制系统并测试系统的性能。</p>\n</li>\n<li><h2 id=\"通过倒立摆初步了解Simscape-Multibody\"><a href=\"#通过倒立摆初步了解Simscape-Multibody\" class=\"headerlink\" title=\"通过倒立摆初步了解Simscape Multibody\"></a>通过倒立摆初步了解Simscape Multibody</h2><h3 id=\"基础模块介绍\"><a href=\"#基础模块介绍\" class=\"headerlink\" title=\"基础模块介绍\"></a>基础模块介绍</h3><p> <img src=\"/Simscape%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93.assets/image-20221105112323958.png\" alt=\"image-20221105112323958\"></p>\n<p> ​\t\t在进入了Simscape Multibody之后，我们会发现工作区里已经存在这三个模块了，下面我来分别介绍一下这三个模块的作用。</p>\n<p> **解算器配置(Solver Configuration)**对应最上面的模块，用于设置有关解算器的一些基本选项，例如公差与采样时间，关于解算器的选择与配置在后面会有详细的介绍。</p>\n<p> **世界坐标系(World Frame)**对应中间的模块，也称为基准坐标系，一个仿真模型中只能存在一个世界坐标系，各个物体的绝对位置由世界坐标系定义。</p>\n<p> **机械配置(Mechanism Configuration)**对应最下面的模块，在里面可以配置重力的大小和方向。</p>\n<h3 id=\"模块的使用与配置\"><a href=\"#模块的使用与配置\" class=\"headerlink\" title=\"模块的使用与配置\"></a>模块的使用与配置</h3><p> ​\t\t如果想要使用其他的模块可以从Library Browser<img src=\"/Simscape%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93.assets/image-20221105154159897.png\" alt=\"image-20221105154159897\">中将其拖出，例如制作倒立摆我们需要一根杆和一个转动关节。在仿真中杆的模型可以用Brick Solid模块<img src=\"Simscape使用小结.assets/image-20221105154340693.png\" alt=\"image-20221105154340693\" style=\"zoom: 67%;\" />来模拟，这个模块在路径Library Browaer-&gt;Simscape-&gt;Multibody-&gt;Body Elements中，转动关节可以用Revolute Joint模块<img src=\"Simscape使用小结.assets/image-20221105154612640.png\" alt=\"image-20221105154612640\" style=\"zoom:67%;\" />来模拟，这个模块在路径Library Browaer-&gt;Simscape-&gt;Multibody-&gt;Joints中。</p>\n<p> ​\t\t可以看到Revolute Joint模块有着两个端口，分别是B和F，其中代表的含义是与B端口相连的物体作为基准，一般为坐标系，与F端口相连的物体则表示转动的对象。需要注意的一点是这些关节类型的模块在仿真并不具有实体，它们仅仅表示一种约束关系，如果想要加入实体使得在仿真时能够更加清楚得观察模块的运动，可以在B端与坐标系的连接之间加入一个可视化的物体，例如Brick Solid模块。</p>\n<p> ​\t\t双击模块可以对模块的一些参数进行配置，例如Brick Solid模块我们可以配置他的长宽高(Geometry-&gt;Dimensions)、密度(Inertia-&gt;Density)和颜色(Graphic-&gt;Color)等等，Revolute Joint模块我们可以配置他的初始位置、速度、力矩、限位等等，对于简单倒立摆的模型来说我们只会用到一个初始位置的设置。</p>\n<h3 id=\"坐标与坐标变换\"><a href=\"#坐标与坐标变换\" class=\"headerlink\" title=\"坐标与坐标变换\"></a>坐标与坐标变换</h3><p> ​\t\t在Revolute Joint模块的介绍中我们可能已经发现这个模块并不是说想绕着哪个轴转就绕着哪个轴转，它只能够绕着Z轴旋转，但是Z轴一般来说与重力的方向相平行，所以我们希望它能够绕着其他的轴旋转，即旋转平面与Z轴相平行。这个时候我们就要用到<strong>坐标变换(Rigid Transform)</strong><img src=\"Simscape使用小结.assets/image-20221105162004304.png\" alt=\"image-20221105162004304\" style=\"zoom:67%;\" />。</p>\n<p> ​\t\t我们同样可以在路径Library Browaer-&gt;Simscape-&gt;Multibody-&gt;Frames and Transforms中找到它，与Revolute Joint模块类似，它也有B和F端口，B端口连接着变换前的坐标系，F端口表示变换后的坐标系。在双击的配置中我们可以分别对旋转和平移两种不同类型的变换进行配置。例如我们要让Revolute Joint模块在Y轴旋转，我们可以让Revolute Joint模块的坐标系相对世界坐标系绕X轴旋转90°，那么我们需要对Rigid Transform的配置中进行如下配置并与Revolute Joint模块相连。</p>\n <img src=\"Simscape使用小结.assets/image-20221105162943065.png\" alt=\"image-20221105162943065\" style=\"zoom: 80%;\" />\n\n<p> ​\t\t需要注意的一点是，在进行了一次坐标变换之后我们通常会再进行一次<strong>逆变换</strong>，将坐标系恢复为世界坐标系，以便后续进行坐标变换时不会被自己绕晕。</p>\n<p> ​\t\t模拟杆的Brick Solid模块也是同样道理，它自身的坐标系默认位于质心的位置，我们希望倒立摆的杆是绕着它其中一个端点旋转的，那么我们需要将Brick Solid模块的坐标系移动到它其中的一个端点上。最后连接的效果如下图所示。</p>\n <img src=\"Simscape使用小结.assets/image-20221105165233565.png\" alt=\"image-20221105165233565\" style=\"zoom: 67%;\" />\n\n<h3 id=\"解算器设置\"><a href=\"#解算器设置\" class=\"headerlink\" title=\"解算器设置\"></a>解算器设置</h3><p> ​\t\t大体的模型框架搭建好以后就可以进行仿真了，但是还有最后一步需要操作，那就是设置解算器。在讲怎么选择并设置解算器之前我想先提一点：对各种物理模型的仿真与解算本质上就是解各种微分方程，但是解算器实际上是对离散的信号量进行运算，这也是为什么在解算器的配置里面有采样时间设置这一个选项。如果在之后想进行控制仿真的话需要将输入的连续信号处理成离散信号，不然解算器会报错，当然这是后话了，如果感兴趣的话可以去了解一下。</p>\n<p> ​\t\t不同的Matlab版本所对应的操作可能并不相同，对于版本2021a来说，解算器的设置被放在工作栏Simulation-&gt;Prepare-&gt;Model Settings中，打开Model Settings，选择Solver选项卡，在选项Solver中我们一般选择ode15s解算器，这个解算器最适合用于解算刚性模型，然后将Max step size设为0.01，这样解算器就配置好了，可以进行仿真了。</p>\n<h3 id=\"仿真\"><a href=\"#仿真\" class=\"headerlink\" title=\"仿真\"></a>仿真</h3><p> ​\t\t仿真其实操作非常简单，点击<img src=\"Simscape使用小结.assets/image-20221105171724040.png\" alt=\"image-20221105171724040\" style=\"zoom: 50%;\" />就可以进行仿真了，回到Matlab中就可以看到仿真的结果了。另外一般默认仿真时间为10s，如果想进行修改的话在Run旁边的Stop Time修改就行了。</p>\n</li>\n<li><h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2></li>\n</ol>\n<p>​\t\t\t\t使用Simscape建立物理模型并进行仿真的整体过程大致就是上面说的这些了，但是\t\t\t\tSimscape还有很多的功能，例如数据的测量、模型模块化等等，如果感兴趣的话呢可以去了解\t\t\t\t一下。</p>\n","text":"Simscape使用小结 什么是Simscape ​ Simscape是Matlab中强大的仿真平台Simulink的一个模块，Simscape主要的仿真对象是现实世界中的各种物体进行物理建模，包括但不限于气体、流体、磁场等等，而对于制作机器人时所需要的物理建模，Simscape...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Simscape%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93\"><span class=\"toc-text\">Simscape使用小结</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AFSimscape\"><span class=\"toc-text\">什么是Simscape</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%9A%E8%BF%87%E5%80%92%E7%AB%8B%E6%91%86%E5%88%9D%E6%AD%A5%E4%BA%86%E8%A7%A3Simscape-Multibody\"><span class=\"toc-text\">通过倒立摆初步了解Simscape Multibody</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">基础模块介绍</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">模块的使用与配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9D%90%E6%A0%87%E4%B8%8E%E5%9D%90%E6%A0%87%E5%8F%98%E6%8D%A2\"><span class=\"toc-text\">坐标与坐标变换</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E7%AE%97%E5%99%A8%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\">解算器设置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%BF%E7%9C%9F\"><span class=\"toc-text\">仿真</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol></li></ol>","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{}}